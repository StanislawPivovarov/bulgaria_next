(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{35243:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return s(77855)}])},77855:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return b},default:function(){return search}});var n=s(85893),r=s(67294),a=s(66988),c=s.n(a),l=s(55673),_=s(5789),u=s(74221),i=s(7737),o=s(83482),h=s(51024),d=s(65400),p=s.n(d),m=s(89552),x=s(55532),f=s.n(x),j=s(41664),S=s.n(j),_components_SearchComponent=e=>{let{dataFromApi:t}=e,[s,a]=(0,r.useState)(""),[c,l]=(0,r.useState)([]),[_,d]=(0,r.useState)(!1),x=new u.Z(t,{keys:["attributes.name","attributes.description","attributes.productCategories.data.category"],includeScore:!0}),performSearch=e=>{let t=x.search(e);l(t.map(e=>e.item))};return(0,n.jsxs)("div",{children:[(0,n.jsx)(h.Z,{type:"text",value:s,onChange:e=>{let t=e.target.value;a(t),d(""!==t),""!==t&&performSearch(t)},className:f().searchBar,placeholder:"Что хотите напечатать?",prefix:(0,n.jsx)(i.default,{className:f().prefix}),suffix:(0,n.jsx)(p(),{onClick:()=>a(""),type:"link",children:(0,n.jsx)(o.default,{className:f().suffix})})}),(0,n.jsx)("p",{children:0!==c.length?(0,n.jsxs)("p",{className:f().results_count,children:["Найдено: ",c.length," ",(()=>{let e=c.length;return 1===e?"результат":e>1&&e<5?"результата":"результатов"})()]}):""===s?(0,n.jsx)(m.Z,{style:{display:"block",margin:"0 auto",paddingTop:30}}):(0,n.jsx)("p",{className:f().results_count,children:"По вашему запросу ничего не найдено. Попробуйте ввести похожие по смыслу слова, чтобы получить лучший результат."})}),_&&(0,n.jsx)("ul",{className:f().results_ul,children:c.map((e,t)=>(0,n.jsxs)("li",{className:f().results_list,children:[(0,n.jsx)(S(),{className:f().button,href:"/".concat(e.id),children:(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:f().result_header,children:e.attributes.name})})}),(0,n.jsx)("p",{className:f().result_content,children:e.attributes.description})]},t))})]})},N=s(9008),C=s.n(N),b=!0,search=e=>{let{data:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C(),{children:(0,n.jsx)("title",{children:"Поиск"})}),(0,n.jsx)("div",{className:c().back,children:(0,n.jsx)(l.Z,{justify:"center",children:(0,n.jsxs)(_.Z,{xs:23,lg:20,children:[(0,n.jsx)("h2",{className:c().header,children:"Результаты поиска"}),(0,n.jsx)(_components_SearchComponent,{dataFromApi:t.data})]})})})]})}},55532:function(e){e.exports={searchBar:"SearchComponent_searchBar__Mz3iG",prefix:"SearchComponent_prefix__W47qM",suffix:"SearchComponent_suffix__xJvGc",suffix_button:"SearchComponent_suffix_button__T6b2t",results_count:"SearchComponent_results_count__l6PRU",results_list:"SearchComponent_results_list__7NHg5",results_ul:"SearchComponent_results_ul__EpJEO",result_header:"SearchComponent_result_header__mry8_",result_content:"SearchComponent_result_content__fN0Hs",button:"SearchComponent_button__vpz7g"}},66988:function(e){e.exports={back:"Search_back__PNClm",header:"Search_header__B_jU6"}}},function(e){e.O(0,[498,774,888,179],function(){return e(e.s=35243)}),_N_E=e.O()}]);